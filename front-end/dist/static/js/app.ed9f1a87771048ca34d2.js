webpackJsonp([1],{"5krW":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=(a("f2v6"),a("ku4k"),a("mtWM")),c=a.n(r),i={name:"App",data:()=>({info:[],currencyUser:[],getAlldata:[],okLoading:!1,errorLoading:!1}),mounted(){this.getDataServer(),setInterval(this.getDataServer,36e5)},methods:{addCurrency(t,e,a){var s=JSON.parse(localStorage.getItem("currencyUser"));(s=s||[]).push({name:t,course:e}),localStorage.setItem("currencyUser",JSON.stringify(s)),this.currencyUser=JSON.parse(localStorage.getItem("currencyUser")),this.getAlldata.splice(a,1)},deleteCurrency(t,e,a){var s=JSON.parse(localStorage.getItem("savedAllData"));(s=s||[]).push({name:t,course:e}),localStorage.setItem("savedAllData",JSON.stringify(s)),this.currencyUser.splice(a,1),localStorage.setItem("currencyUser",JSON.stringify(this.currencyUser))},getDataServer(){c.a.get("http://localhost:8888/test_task/back-end/").then(t=>{this.info=t.data,localStorage.setItem("savedAllData",JSON.stringify(this.info)),this.getAlldata=JSON.parse(localStorage.getItem("savedAllData"))}).catch(t=>{this.errorLoading=!0,this.okLoading=!1}),this.currencyUser=JSON.parse(localStorage.getItem("currencyUser")),this.okLoading=!0,setTimeout(this.deleteAlert,5e3)},deleteAlert(){this.errorLoading=!1,this.okLoading=!1}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"popup_container",attrs:{id:"popup"}},[a("div",{staticClass:"popup_wrapper"},[t._m(0),t._v(" "),a("div",{staticClass:"popup_currency_container"},[a("div",{staticStyle:{height:"35px"}}),t._v(" "),t._l(t.getAlldata,function(e,s){return a("div",{staticClass:"popup_currency"},[a("div",{staticClass:"popup_currency_title_container"},[a("h1",{staticClass:"popup_currency_title"},[t._v(t._s(e.name))])]),t._v(" "),a("button",{staticClass:"popup_currency_add",on:{click:function(a){return t.addCurrency(e.name,e.course,s)}}})])})],2)])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"content"},[a("div",{staticClass:"menu"},[a("h1",{staticClass:"title"},[t._v("Курсы валют")]),t._v(" "),a("div",{staticClass:"update_container"},[t.okLoading?a("p",{staticClass:"update_good"},[t._v("Обновлено")]):t._e(),t._v(" "),t.errorLoading?a("p",{staticClass:"update_error"},[t._v("Что-то не так")]):t._e(),t._v(" "),a("button",{staticClass:"update",on:{click:function(e){return t.getDataServer()}}})])]),t._v(" "),a("div",{staticClass:"blocks"},[a("div",{staticStyle:{height:"35px"}}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"inner"},t._l(t.currencyUser,function(e,s){return a("div",{staticClass:"block"},[a("p",{staticClass:"block_title"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"block_course"},[t._v(t._s(e.course))]),t._v(" "),a("button",{staticClass:"block_delete",on:{click:function(a){return t.deleteCurrency(e.name,e.course,s)}}})])}),0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"popup_menu"},[e("h1",{staticClass:"popup_title"},[this._v("Все валюты")]),this._v(" "),e("a",{staticClass:"popup_close",attrs:{href:"#"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block_active"},[e("a",{staticClass:"block_add",attrs:{href:"#popup"}})])}]};var o=a("VU/8")(i,n,!1,function(t){a("5krW")},null,null).exports,l=a("/ocq");s.a.use(l.a);var u=new l.a({routes:[]});s.a.config.productionTip=!1,new s.a({el:"#app",router:u,components:{App:o},template:"<App/>"})},f2v6:function(t,e){},ku4k:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ed9f1a87771048ca34d2.js.map